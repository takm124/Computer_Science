 >4.1 프로그램의 구조와 인터럽트
  - 프로그램이 CPU에서 명령을 수행하려면 해당 명령을 담은 프로그램의 주소 영역이 메모리에 올라있어야 함
    - 프로그램의 주소영역은 크게 코드, 데이터, 스택 영역으로 구분
    - 코드 영역 : 작성한 프로그램 함수들의 코드가 기계어 형태로 변환되어 저장 된 곳
    - 데이터 영역 : 전역 변수 등 프로그램이 사용하는 데이터
    - 스택 영역 : 임시 데이터 
  - 함수 수행중 다른 함수를 실행하게 되면 메모리 위치가 바뀌는데, 실행 중이었던 메모리의 주소는 스택에 저장한다.
  - 반면 인터럽트 때문에 CPU를 빼앗긴 위치는 운영체제가 관리하는 프로세스 제어 블록 (PCB)에 저장함
    - PCB는 인터럽트가 발생한 시점에서 그 프로그램의 어느 부분까지를 수행했는지를 저장
    - 인터럽트 처리 후 PCB에 저장된 주소를 복원시킴

<br>

 >4.2 컴퓨터 시스템의 작동 개요
  - CPU는 빠른 계산 능력은 갖고 있지만, 어떠한 작업을 수행해야 하는지 스스로 결정하는 능력을 갖추진 못했다.
  - CPU는 매 시점 메모리의 특정 주소에 존재하는 명령을 하나씩 읽어와 그대로 실행할 뿐이다.
  - 이 때 CPU가 수행해야할 메모리 주소를 담고 있는 레지스터를 프로그램 카운터(PC)라고 함
  - 각종 인터럽터들은 인터럽트 라인에서 저장함



<br>

>4.3 프로그램의 실행
  - 프로그램이 실행된다는 의미
    - 디스크에 존재하던 실행파일이 메모리에 적재됨을 의미
    - 프로그램이 CPU를 할당받고 명령을 수행하고 있는 상태
  - 실행파일이 메모리에 적재될 때, 실행파일 전체가 메모리에 올라가지 않고 일부부만 메모리에 올라간다.
  - 앞서말한, 코드/데이터/스택 주소 공간과 별도로 프로그램마다 독자적으로 존재하는 주소 공간을 가상메모리 혹은 논리적 메모리라고 부른다.
  - 운영체제 또한 주소 공간이 존재한다.
    - 커널의 코드 영역 : 시스템콜, 인터럽트 처리, 자원 관리 등의 코드
    - 커널의 데이터 영역 : 각 프로세스의 상태, CPU 사용 정보, 메모리 사용 정보등을 유지하기 위한 자료구조인 PCB를 두고있음
    - 커널의 스택 영역 : 함수호출시의 복귀 주소를 저장하기 위한 용도로 사용
    

<br>

>4.4 사용자 프로그램이 사용하는 함수
  - 프로그램이 사용하는 함수는 크게 사용자 정의함수와 라이브러리 함수, 커널함수 세가지이다.
    - 사용자 정의 함수 : 프로그래머 본인이 직접 작성한 함수
    - 라이브러리 함수 : 누군가 작성해놓은 함수
    - 커널 함수 : 운영체제 커널의 코드에 정의된 함수

<br>

>4.5 인터럽트
  - CPU는 단순하게 PC가 가리키는 곳에 있는 명령만 수행한다.
  - 현재 수행 중인 프로세스로부터 CPU를 회수해 CPU가 다른 일을 수행하도록 하기 위해서는 인터럽트 메커니즘이 필요함
  - CPU는 매번 PC가 가리키고 있는 지점의 명령을 하나씩 수행하고 인터럽트 라인이 세팅되었는지 체크함
  - 인터럽트가 발생했으면 현재 수행중이던 프로세스를 멈추고 운영체제의 인터럽트 처리루틴으로 이동

<br>


>4.6 시스템 콜
  - 시스템 콜은 함수 호출이지만 자신의 주소 공간을 거스르는 영역에 존재하는 함수를 호출하는 것을 말함


<br>

>4.7 프로세스의 두 가지 실행 상태
  - 하나의 프로세스가 시작되어 수행을 완료하기까지는 프로세스 자신의 주소 공간에 있는 코드만 실행되는 것이 아니라 커널의 주소 공간에 있는 코드도 실행됨
  - 사용자 모드와 커널모드의 실행 상태로 구분
  - 사용자 정의함수, 라이브러리 함수 호출은 사용자모드로, 커널 함수는 커널모드로 실행


<br>
